<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Lab Opendata</title>

	<link rel="stylesheet" type="text/css" href="stylesheet/main.css" />

	<link rel="stylesheet" href="stylesheet/vendor/leaflet.css" />

	<!--[if lte IE 8]>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
	<![endif]-->
	<script src="javascript/vendor/leaflet.js"></script>
	<script src="javascript/vendor/leaflet-providers.js"></script>
</head>
<body>
<div class="page">
	<div class="row">
		<h1>Open Data. Lab. Namics.</h1>
	</div>
	<div class="mod mod-nx-open-data" data-url="resources/nxopendata.json">
		<div class="row">
			<div class="large-9 columns">
					<div class="widget-map-navigation">

					</div>
					<div class="widget-map" id="map"></div>
					<div class="widget-competence"></div>
					<div class="widget-table"></div>

			</div>
			<div class="large-3 columns">
				<h2>Data</h2>
				<dl>
					<dt>Mitarbeiter</dt>
					<dd data-bind="text: numberOfEmployees"></dd>
					<dt>Cluster (Wohnorte)</dt>
					<dd data-bind="text: employeeClusters"></dd>
					<dt>Cluster Distanz (km)</dt>
					<dd data-bind="text: clusterDistance"></dd>
					<dt>Cluster-Work-Connections</dt>
					<dd data-bind="text: clusterWorkConnections"></dd>
				</dl>
			</div>
		</div>
	</div>

</div>

<script src="javascript/vendor/jquery.js"></script>
<script src="javascript/vendor/underscore-min.js"></script>
<script src="javascript/vendor/doT.min.js"></script>
<script src="javascript/vendor/moveabletype.latlong.js"></script>
<script src='javascript/vendor/terrific-2.0.1.min.js'></script>
<script src='javascript/vendor/knockout-2.3.0.js'></script>
<script src='javascript/libraries/Lab.Cluster.js'></script>
<script src='javascript/libraries/Lab.Point.js'></script>
<script src='javascript/modules/Tc.Module.NxOpenData.js'></script>
<script src='javascript/bootstrap.js'></script>

<script type="text/template" id="tmpl-FullDataTable">
<h2>Alle Daten</h2>
	<table>
		<tr><td>Arbeitsort</td><td>Wohnort</td><td>Kompetenz</td>
			<td>Lat</td>
			<td>Long</td>
		</tr>
	{{~it :value:index}}

	<tr>
		<td>{{=value.properties['Ort_A']}}</td>
		<td>{{=value.properties['Ort_H']}}</td>
		<td>{{=value.properties['Kompetenz']}}</td>
		<td>{{=value.properties['geo_latitude']}}</td>
		<td>{{=value.properties['geo_longitude']}}</td>
	</tr>
	{{~}}

	</table>
</script>

<script type="text/template" id="tmpl-OfficeNavigation">
	<ul class="button-group">
		{{~it :value:index}}

		<li><button class="small button" data-lat="{{=value.point.lat}}" data-lon="{{=value.point.lon}}">{{=value.name}}</button></li>

		{{~}}
	</ul>
</script>

<script type="text/template" id="tmpl-ByCompetence">
<h2>Kompetenz ZÃ¤hler</h2>
<table>
		{{~it :value:index}}
	<tr>
		<td>{{=value.competence}}</td>
		<td>{{=value.count}}</td>
	</tr>
		{{~}}
</table>

</script>

</body>
</html>